<div (click)="prevRoute()">
    <pgz-prev-route>
        
        @if(editCategory) {
            <p>Edit category</p>
        } @else {
            <p>Add category</p>
        }
    </pgz-prev-route>
</div>
<section class="add-edit-category page">
    <pgz-form-field>
        <label style="margin-top: 32px;">Name category</label>
        <div  style="margin-top: 16px;">
            <input type="text" class="add-edit-category--name" placeholder="Enter name of category" style="font-size: 18px;" [formControl]="categoryTitleCtrl">
        </div>
    </pgz-form-field>

    <pgz-form-field>
        <label style="margin-top: 32px;">Icon</label>
        <div class="d-flex"  style="margin-top: 16px; align-items: center;">
            <pgz-icon class="category--icon" style="margin-right: 8px;" [name]="selectedIcon"></pgz-icon>
            <pgz-icon-picker id="iconPicker" (onSelectIcon)="onSelectIcon($event)"></pgz-icon-picker>
        </div>
    </pgz-form-field>

    <pgz-form-field>
        <label style="margin-top: 32px;">Color</label>
        <div class="d-flex"  style="margin-top: 16px; align-items: center;">
            <div class="add-edit-category--choose-color">
                <pgz-icon [name]="'custom_color_icon'"></pgz-icon>
                <div class="add-edit-category--selected-color" [ngStyle]='{ "background-color": selectedColor }'></div>
            </div>
            <input id="colorInput" type="color" [(ngModel)]="selectedColor" style="display: none;">
            <button class="add-edit-category--choose-color__btn" (click)="openColorPicker()">Choose color</button>
        </div>
        
    </pgz-form-field>

    <div style="display: flex; justify-content: space-between; margin-top: 32px;">
        <label class="toggle-text"><span>Limit category</span></label>
        <label class="toggle-button">
            <input type="checkbox" [ngModel]="isLimitCategoryEnebled" (change)="toggleLimitCategory()">
            <span class="slider"></span>
        </label>
    </div>
        <!-- <div class="add-edit-category--limit" style="margin-top: 16px;">
            <input class="add-edit-category--name" type="number" inputmode="numeric" placeholder="0" [(ngModel)]="limitOfCaregory" pgzMoney>
            <p class="add-spending--currency">$</p>
        </div> -->
    <!-- </pgz-form-field> -->

    @if(isLimitCategoryEnebled) {
        <pgz-form-field>
            <div class="add-edit-category--limit" style="margin-top: 16px;">
                <input class="add-edit-category--name" type="number" inputmode="numeric" placeholder="0" [(ngModel)]="limitOfCaregory" pgzMoney>
                <p class="add-spending--currency">$</p>
            </div>
        </pgz-form-field>
    }

    <!-- <div style="display: flex; margin-left: 16px; margin-top: 32px; color: red;" (click)="onDeleteCategory()">
        <pgz-icon style="font-size: 24px;" [name]="'delete'"></pgz-icon>
        <p style="margin-left: 16px;">Delete Category</p>
    </div> -->
    
    <!-- <div class="choise-btn" (click)="onAdd()">
        <pgz-accept-btn [active]="canSave"></pgz-accept-btn>
    </div> -->

    <div class="add-edit-category--actions">
        <button mat-flat-button
                type="submit" class="pgz-btn pgz-btn--option montserrat" 
                (click)="onDeleteCategory()">
        {{ 'Delete Category' }}
        </button>

        <button mat-flat-button
                [class.pgz-btn--submit-enabled]="canSave"
                [class.pgz-btn--submit-disabled]="!canSave"
                type="submit" class="pgz-btn montserrat" 
                (click)="onAdd()">
        {{ 'Save' }}
        </button>
    </div>
</section>
