<section>
    <pgz-prev-route><p>Settings</p></pgz-prev-route>
    <section class="profile">

        @if(isAuthorizedUser) {
            <div class="profile-header--exit" (click)="logout()">
                <p>Exit</p>
                <pgz-icon class="profile-header--edit" [name]="'logout'"></pgz-icon>
            </div>
            <div>
                <p>{{ userEmail }}</p>
                <pgz-icon class="profile--edit" [name]="'custom_edit'"></pgz-icon>
            </div>
        } @else {
            <div class="profile-header--unauthorized">
                <div class="profile-header--unauthorized__warning">
                    <div class="profile-header--unauthorized__priority-icon">!</div>
                    <p>Log in to save data</p>
                </div>
                <div class="profile-header--unauthorized__btns">
                    <div class="profile-header--unauthorized__btn montserrat" (click)="login()">Login</div>
                    <div class="profile-header--unauthorized__btn montserrat" (click)="registration()">Registration</div>
                </div>
            </div>
        }
    </section>
    
    <div class="settings-box">
        <div class="general-item">
            <p>Profile settings</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="settings-box">
        <div class="general-item" (click)="changeMonthlyBudget()">
            <p>Monthly budget</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>
    </div>
    <pgz-system></pgz-system>
    
    <div class="settings-box">
        <div class="general-item">
            <p>Export / Import data</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="settings-box disabled">
        <div class="general-item">
            <p>Write to us</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>

        <div class="general-item">
            <p>Rate the app</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>

        <div class="general-item">
            <p>Subscription / Donate</p>
            <div class="general-item--value">
                <div class="arrow-box">
                    <div class="arrow-up"></div>
                    <div class="arrow-down"></div>
                </div>
            </div>
        </div>
    </div>


    @if(isAuthorizedUser) {
        <p class="profile--delete">Delete profile</p>
    }
</section>
<div style="margin-left: 20px;">
    <mat-slide-toggle [(ngModel)]="isChecked" (ngModelChange)="onToggleChange()">
        {{ isChecked ? 'Dev Mode' : 'Stage Mode' }}
    </mat-slide-toggle>

</div>
